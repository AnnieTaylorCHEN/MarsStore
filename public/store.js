!function(e){var t={};function n(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(a,r,function(t){return e[t]}.bind(null,r));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}({3:function(e,t){function n(){for(var e=document.getElementsByClassName("btn-danger"),t=0;t<e.length;t++){e[t].addEventListener("click",s)}for(var n=document.getElementsByClassName("cart-quantity-input"),a=0;a<n.length;a++){n[a].addEventListener("change",o)}for(var c=document.getElementsByClassName("shop-item-button"),l=0;l<c.length;l++){c[l].addEventListener("click",i)}document.getElementsByClassName("btn-purchase")[0].addEventListener("click",r)}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",n):n();var a=StripeCheckout.configure({key:stripePublicKey,locale:"auto",token:function(e){for(var t=[],n=document.getElementsByClassName("cart-items")[0].getElementsByClassName("cart-row"),a=0;a<n.length;a++){var r=n[a],s=r.getElementsByClassName("cart-quantity-input")[0].value,o=r.dataset.itemId;t.push({id:o,quantity:s})}fetch("/purchase",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({stripeTokenId:e.id,items:t})}).then(function(e){return e.json()}).then(function(e){alert(e.message);for(var t=document.getElementsByClassName("cart-items")[0];t.hasChildNodes();)t.removeChild(t.firstChild);l()}).catch(function(e){console.log(e)})}});function r(){var e=document.getElementsByClassName("cart-total-price")[0],t=100*parseFloat(e.innerText.replace("$"," "));a.open({amount:t})}var s=function(e){e.target.parentElement.parentElement.remove(),l()},o=function(e){var t=e.target;(isNaN(t.value)||t.value<=0)&&(t.value=1),l()};function i(e){var t=e.target.parentElement.parentElement,n=t.getElementsByClassName("shop-item-title")[0].innerText,a=t.getElementsByClassName("shop-item-price")[0].innerText,r=t.getElementsByClassName("shop-item-image")[0].src,s=t.dataset.itemId;c(n,a,r,s),l()}var c=function(e,t,n,a){var r=document.createElement("div");r.classList.add("cart-row"),r.dataset.itemId=a;for(var i=document.getElementsByClassName("cart-items")[0],c=i.getElementsByClassName("cart-item-title"),l=0;l<c.length;l++)if(c[l].innerText===e)return void alert("This item is already added to the cart");var u='\n          <div class="cart-item cart-column">\n            <img class="cart-item-image" src="'.concat(n,'" width ="100" height="100">\n            <span class="cart-item-title">').concat(e,'</span>\n          </div>\n          <span class="cart-price cart-column">').concat(t,'</span>\n          <div class="cart-quantity cart-column">\n            <input class="cart-quantity-input" type="number" value="1">\n            <button class="btn btn-danger" type="button">REMOVE</button>\n          </div>');r.innerHTML=u,i.append(r),r.getElementsByClassName("btn-danger")[0].addEventListener("click",s),r.getElementsByClassName("cart-quantity-input")[0].addEventListener("change",o)},l=function(){for(var e=document.getElementsByClassName("cart-items")[0].getElementsByClassName("cart-row"),t=0,n=0;n<e.length;n++){var a=e[n],r=a.getElementsByClassName("cart-price")[0],s=a.getElementsByClassName("cart-quantity-input")[0];t+=parseFloat(r.innerText.replace("$",""))*s.value}t=Math.round(100*t)/100,document.getElementsByClassName("cart-total-price")[0].innerText="$"+t},u="",m=document.querySelectorAll(".shop-item-title"),d=Array.from(m);document.querySelector("#search-text").addEventListener("input",function(e){u=e.target.value,p()});var p=function(){var e=d.filter(function(e){return e.innerText.toLowerCase().includes(u.toLowerCase())}),t=document.querySelector("#feedback");if(t.innerHTML="",e.length>0){requestAnimationFrame(function(){e[0].scrollIntoView()});var n=e[0];console.log(n)}else t.textContent="No match found"}}});